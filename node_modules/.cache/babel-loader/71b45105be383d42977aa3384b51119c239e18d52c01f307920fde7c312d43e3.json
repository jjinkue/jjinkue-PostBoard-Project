{"ast":null,"code":"var _jsxFileName = \"/Users/jeongjingyu/Desktop/jjinkue-myapp/src/components/EditPost.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditPost = () => {\n  _s();\n  var _location$state, _location$state2;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [title, setTitle] = useState(((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.title) || \"\");\n  const [content, setContent] = useState(((_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.content) || \"\");\n  useEffect(() => {\n    if (!title || !content) {\n      const fetchPost = async () => {\n        try {\n          const response = await fetch(`http://localhost:5001/api/posts/${id}`, {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n            }\n          });\n          if (response.ok) {\n            const data = await response.json();\n            setTitle(data.title);\n            setContent(data.content);\n          }\n        } catch (error) {\n          console.error(\"게시글 불러오기 에러:\", error);\n        }\n      };\n      fetchPost();\n    }\n  }, [id, title, content]);\n  const handleUpdate = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch(`http://localhost:5001/api/posts/${id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        },\n        body: JSON.stringify({\n          title,\n          content\n        })\n      });\n      if (response.ok) {\n        navigate(`/post/${id}`);\n      }\n    } catch (error) {\n      console.error(\"게시글 수정 에러:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleUpdate,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uAC8C\\uC2DC\\uAE00 \\uC218\\uC815\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: title,\n      onChange: e => setTitle(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: content,\n      onChange: e => setContent(e.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\uC218\\uC815 \\uC644\\uB8CC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"secondary\",\n        onClick: () => navigate(-1),\n        children: \"\\uCDE8\\uC18C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(EditPost, \"ExKHyPvTfRUpCtpqA0ESNalX3Q8=\", false, function () {\n  return [useParams, useNavigate, useLocation];\n});\n_c = EditPost;\nexport default EditPost;\nvar _c;\n$RefreshReg$(_c, \"EditPost\");","map":{"version":3,"names":["useState","useEffect","useNavigate","useParams","useLocation","jsxDEV","_jsxDEV","EditPost","_s","_location$state","_location$state2","id","navigate","location","title","setTitle","state","content","setContent","fetchPost","response","fetch","headers","Authorization","localStorage","getItem","ok","data","json","error","console","handleUpdate","e","preventDefault","method","body","JSON","stringify","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","required","className","onClick","_c","$RefreshReg$"],"sources":["/Users/jeongjingyu/Desktop/jjinkue-myapp/src/components/EditPost.tsx"],"sourcesContent":["import type React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\n\nconst EditPost: React.FC = () => {\n    const { id } = useParams<{ id: string }>();\n    const navigate = useNavigate();\n    const location = useLocation();\n    const [title, setTitle] = useState(location.state?.title || \"\");\n    const [content, setContent] = useState(location.state?.content || \"\");\n\n    useEffect(() => {\n        if (!title || !content) {\n            const fetchPost = async () => {\n                try {\n                    const response = await fetch(`http://localhost:5001/api/posts/${id}`, {\n                        headers: {\n                            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                        },\n                    });\n                    if (response.ok) {\n                        const data = await response.json();\n                        setTitle(data.title);\n                        setContent(data.content);\n                    }\n                } catch (error) {\n                    console.error(\"게시글 불러오기 에러:\", error);\n                }\n            };\n\n            fetchPost();\n        }\n    }, [id, title, content]);\n\n    const handleUpdate = async (e: React.FormEvent) => {\n        e.preventDefault();\n        try {\n            const response = await fetch(`http://localhost:5001/api/posts/${id}`, {\n                method: \"PATCH\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                },\n                body: JSON.stringify({ title, content }),\n            });\n            if (response.ok) {\n                navigate(`/post/${id}`);\n            }\n        } catch (error) {\n            console.error(\"게시글 수정 에러:\", error);\n        }\n    };\n\n    return (\n        <form onSubmit={handleUpdate}>\n            <h2>게시글 수정</h2>\n            <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} required />\n            <textarea value={content} onChange={(e) => setContent(e.target.value)} required />\n            <div className=\"button-container\">\n                <button type=\"submit\">수정 완료</button>\n                <button type=\"button\" className=\"secondary\" onClick={() => navigate(-1)}>\n                    취소\n                </button>\n            </div>\n        </form>\n    );\n};\n\nexport default EditPost;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}